<div class="input-group">
  <input type="text"
    class="form-control related-identifier-field no-error {{unless this.fragment.relatedIdentifier 'no-success'}}" placeholder="Related Identifier" value={{this.fragment.relatedIdentifier}} oninput={{action "updateRelatedIdentifierAction" value="target.value"}} data-test-related-identifier />
  <span class="input-group-btn">
    <BsButton @outline={{true}} @onClick={{action "deleteRelatedIdentifierAction" this.index}}><i class="fas fa-trash"></i></BsButton>
  </span>
</div>

<div
  class="help-block help-block-fragment related-identifier-field no-error {{unless this.fragment.relatedIdentifier 'no-success'}}">
  Must be a globally unique identifier. Visit our support website for 
   <a target="_blank" rel="noopener noreferrer" href="https://support.datacite.org/docs/schema-optional-properties-v43#section-12-a-related-identifier-type"> the list of supported unique identifiers.</a>
</div>

<div class="power-select-label">
  <label for="relatedIdentifierType" class="required-label subtitle">Related Identifier Type</label> 
</div> 
<div class="power-select-fragment" disabled={{this.controlledIdentifierType}} doi-related-identifier-type data-test-related-identifier-type>
  <@form.element @controlType="power-select" @value={{this.fragment.relatedIdentifierType}} @helpText="The type of the Related Identifier." @options={{this.relatedIdentifierTypeList}} @destination={{this.fragment.relatedIdentifierType}} as |el|>
    <el.control @onChange={{action "selectRelatedIdentifierTypeAction"}} @allowClear={{true}} @placeholder="Select related Identifier Type" @disabled={{this.controlledIdentifierType}} @searchEnabled={{true}} />
  </@form.element>
</div>

<div class="power-select-label">
  <label for="relationType" class="required-label subtitle">Relation Type</label> 
</div> 
<div class="power-select-fragment" doi-relation-type data-test-related-relation-type>
  <@form.element @controlType="power-select" @value={{this.fragment.relationType}} @helpText="The type of the Relation." @options={{this.relationTypeList}} @destination={{this.fragment.relationType}} as |el|>
    <el.control
      @onChange={{action "selectRelationTypeAction"}}
      @placeholder="Select Relation Type" 
      @disabled={{this.disabled}}
      @allowClear={{true}} 
      @searchEnabled={{true}} as |item|>
        {{humanize (underscore item)}}
    </el.control>
  </@form.element>
</div>

<div class="power-select-label">
  <label for="relatedResourceType" class="subtitle">Resource Type General</label> 
</div> 
<div class="power-select-fragment" doi-resource-type-general data-test-related-resource-type>
  <@form.element @controlType="power-select" @value={{this.fragment.resourceTypeGeneral}} @helpText="The general type of the related resource." @options={{this.resourceTypesGeneral}} @destination={{this.fragment.resourceTypeGeneral}} as |el|>
    <el.control
      @onChange={{action "selectResourceTypeGeneralAction"}}
      @allowClear={{true}}
      @placeholder="Select Resource Type General" 
      @disabled={{this.disabled}}
      @searchEnabled={{true}} as |item|>
        {{humanize (underscore item)}}
    </el.control>
  </@form.element>
</div>

{{#if this.isMetadataRelationType}}
  <div class="power-select-label">
    <label for="relatedMetadataScheme" class="subtitle">Related Metadata Scheme</label> 
  </div> 
  <input type="text" class="form-control related-metadata-scheme-field" value={{this.fragment.relatedMetadataScheme}} placeholder="Related Metadata Scheme"
    oninput={{action "updateRelatedMetadataSchemeAction" value="target.value"}} data-test-related-metadata-scheme />

  <div
    class="help-block help-block-fragment related-metadata-scheme-field}}">
    The name of the scheme.
  </div>

  <div class="power-select-label">
    <label for="relatedSchemeURI" class="subtitle">Related Metadata Scheme URI</label> 
  </div> 
  <input type="text" class="form-control related-scheme-uri-field" value={{this.fragment.schemeUri}} placeholder="Related Metadata Scheme URI"
    oninput={{action "updateSchemeURIAction" value="target.value"}} data-test-related-scheme-uri />

  <div
    class="help-block help-block-fragment related-scheme-uri-field}}">
    The URI of the relatedMetadataScheme. For example: http://www.ddialliance.org/Specification/DDILifecycle/3.1/XMLSchema/instance.xsd for DDI-L schema.
  </div>

  <div class="power-select-label">
    <label for="relatedSchemeType" class="subtitle">Related Metadata Scheme Type</label> 
  </div> 

  <input type="text" class="form-control related-scheme-type-field" value={{this.fragment.schemeType}} placeholder="Related Metadata Scheme Type"
    oninput={{action "updateSchemeTypeAction" value="target.value"}} data-test-related-scheme-type />

  <div
    class="help-block help-block-fragment related-scheme-type-field}}">
    The type of the relatedMetadataScheme, linked with the schemeURI.
  </div>
{{/if}}

<hr />
