<ApplicationHeader @default={{true}} />

<div class="container-fluid">
  <ol class="breadcrumb">
    {{#if (can "read index")}}
      <li class="breadcrumb-item"><LinkTo @route="index">DataCite</LinkTo></li>
      <li class="breadcrumb-item"><LinkTo @route="providers">Members</LinkTo></li>
      {{#if (eq this.model.repository.provider.memberType "consortium_organization")}}
        <li class="breadcrumb-item"><LinkTo @route="providers.show.index" @model={{this.model.repository.provider.consortium.id}}>{{this.model.repository.provider.consortium.name}}</LinkTo></li>
        <li class="breadcrumb-item"><LinkTo @route="providers.show.organizations" @model={{this.model.repository.provider.consortium.id}}>Consortium Organizations</LinkTo></li>
      {{/if}}
      <li class="breadcrumb-item"><LinkTo @route="providers.show" @model={{this.model.repository.provider.id}}>{{this.model.repository.provider.name}}</LinkTo></li>
      <li class="breadcrumb-item"><LinkTo @route="providers.show.repositories" @model={{this.model.repository.provider.id}}>Repositories</LinkTo></li>
      <li class="breadcrumb-item"><LinkTo @route="repositories.show" @model={{this.model.repository.id}}>{{this.model.repository.name}}</LinkTo></li>
      <li class="breadcrumb-item"><LinkTo @route="repositories.show.dois" @model={{this.model.repository.id}}>DOIs</LinkTo></li>
    {{else if (can "read provider" this.model.repository.provider)}}
      {{#if (eq this.model.repository.provider.memberType "consortium_organization")}}
        <li class="breadcrumb-item"><LinkTo @route="providers.show.index" @model={{this.model.repository.provider.consortium.id}}>{{this.model.repository.provider.consortium.name}}</LinkTo></li>
        <li class="breadcrumb-item"><LinkTo @route="providers.show.organizations" @model={{this.model.repository.provider.consortium.id}}>Consortium Organizations</LinkTo></li>
      {{/if}}
      <li class="breadcrumb-item"><LinkTo @route="providers.show" @model={{this.model.repository.provider.id}}>{{this.model.repository.provider.name}}</LinkTo></li>
      <li class="breadcrumb-item"><LinkTo @route="providers.show.repositories" @model={{this.model.repository.provider.id}}>Repositories</LinkTo></li>
      <li class="breadcrumb-item"><LinkTo @route="repositories.show" @model={{this.model.repository.id}}>{{this.model.repository.name}}</LinkTo></li>
      <li class="breadcrumb-item"><LinkTo @route="repositories.show.dois" @model={{this.model.repository.id}}>DOIs</LinkTo></li> 
    {{else if (can "read repository" this.model.repository)}}
      <li class="breadcrumb-item"><LinkTo @route="repositories.show" @model={{this.model.repository.id}}>{{this.model.repository.name}}</LinkTo></li>
      <li class="breadcrumb-item"><LinkTo @route="repositories.show.dois" @model={{this.model.repository.id}}>DOIs</LinkTo></li>
    {{/if}}
  </ol>
  
  <div id="show">
    <h2 class="work">{{this.model.id}}</h2>
  </div>

  {{outlet}}
</div>
